!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(3);r.render(o.createElement(i.MainWindow,null),document.getElementById("app"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return r.createElement("div",{className:"cIDEr-container"},r.createElement(i.Editor,null))},t}(r.Component);t.MainWindow=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),s=n(9),u=n(10),c=function(e){function t(t){var n=e.call(this,t)||this;return n.cursor=new s.Cursor,n.state=new u.EditorState,n.editorKeyPressAction=n.editorKeyPressAction.bind(n),n.updateLinePosition=n.updateLinePosition.bind(n),n.updateLine=n.updateLine.bind(n),n}return o(t,e),t.prototype.render=function(){return console.log(this.state),r.createElement("div",{style:{width:"100vw"}},this.renderLines())},t.prototype.renderLines=function(){var e=this;return this.state.lines.map(function(t,n){return r.createElement(i.Line,{key:n,lineNumber:n,line:t,cursor:e.cursor,focused:n==e.cursor.getCurrentLine(),editorKeyPressAction:e.editorKeyPressAction,updateLinePosition:e.updateLinePosition,updateLine:e.updateLine})})},t.prototype.editorKeyPressAction=function(e){this.enterWasPressed(e)&&this.createNewLine(e),this.shouldRemoveLine(e)&&this.deleteLine()},t.prototype.enterWasPressed=function(e){return 13==e.keyCode},t.prototype.createNewLine=function(e){e.preventDefault(),this.state.lines.splice(this.cursor.getCurrentLine(),0,""),this.cursor.seekLines(1),this.setState({lines:this.state.lines})},t.prototype.updateLinePosition=function(e){this.isLineInEditor(e)&&(this.cursor.setLinePosition(e),this.focusOnCurrentLine())},t.prototype.isLineInEditor=function(e){return e>=0&&e<this.state.lines.length},t.prototype.focusOnCurrentLine=function(){var e='[data-line-number="'+this.cursor.getCurrentLine()+'"]';document.querySelector(e).focus()},t.prototype.shouldRemoveLine=function(e){return 8==e.keyCode&&0==this.cursor.getCurrentColumn()},t.prototype.deleteLine=function(){this.canDeleteLine()&&(this.cursor.seekLines(-1),this.state.lines.splice(this.cursor.getCurrentLine(),1),this.setState({lines:this.state.lines}))},t.prototype.canDeleteLine=function(){return this.cursor.getCurrentLine()>0},t.prototype.updateLine=function(e,t){this.state.lines[e]=t,this.setState({lines:this.state.lines})},t.prototype.componentDidUpdate=function(){this.focusOnCurrentLine()},t}(r.Component);t.Editor=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6),s=n(7),u=n(8),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state=new s.LineState(t.line),n.setCurrentLine=n.setCurrentLine.bind(n),n.handleLineKeyDownAction=n.handleLineKeyDownAction.bind(n),n.handleLineKeyUpAction=n.handleLineKeyUpAction.bind(n),n.setColumnPosition=n.setColumnPosition.bind(n),n}return o(t,e),t.prototype.render=function(){return console.log(this.state),r.createElement("div",{key:this.props.lineNumber,style:{display:"flex"}},r.createElement(u.LineNumber,{focused:this.props.focused,lineNumber:this.props.lineNumber}),r.createElement("div",{"data-line-number":this.props.lineNumber,onMouseUp:this.setCurrentLine,onKeyDown:this.handleLineKeyDownAction,onKeyUp:this.handleLineKeyUpAction,tabIndex:-1,suppressContentEditableWarning:!0,contentEditable:!0,style:i.LineStyle},this.props.line))},t.prototype.setCurrentLine=function(e){if(this.isTargetElementRendered(e.target)){var t=this.getLineElement(e.target);this.setColumnPosition(),this.setLinePosition(t)}},t.prototype.isTargetElementRendered=function(e){return null!=e},t.prototype.getLineElement=function(e){return this.isLineElement(e)?e:this.getLineElement(e.parentElement)},t.prototype.isLineElement=function(e){return e.hasAttribute("data-line-number")},t.prototype.setColumnPosition=function(){this.props.cursor.setColumnPosition(window.getSelection().getRangeAt(0).endOffset)},t.prototype.setLinePosition=function(e){this.props.cursor.setLinePosition(parseInt(e.getAttribute("data-line-number"),10))},t.prototype.handleLineKeyDownAction=function(e){this.props.editorKeyPressAction(e),this.lineChangeKeyPressed(e)?this.changeLine(e):this.setColumnPosition()},t.prototype.lineChangeKeyPressed=function(e){return 38==e.keyCode||40==e.keyCode},t.prototype.changeLine=function(e){var t=this.props.cursor.getCurrentLine();switch(e.keyCode){case 38:this.props.updateLinePosition(t-1);break;case 40:this.props.updateLinePosition(t+1)}},t.prototype.handleLineKeyUpAction=function(e){var t=e.target;this.props.updateLine(this.props.lineNumber,t.textContent)},t}(r.Component);t.Line=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineStyle={width:"100%",backgroundColor:"rgb(240,240,240)",whiteSpace:"nowrap",outline:"none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e){this.focused=!1,this.line=e}}();t.LineState=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return r.createElement("span",null,this.props.lineNumber+1)},t}(r.Component);t.LineNumber=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.line=0,this.column=0}return e.prototype.seekLines=function(e){this.line+=e},e.prototype.seekColumns=function(e){this.column+=e},e.prototype.setLinePosition=function(e){this.line=e},e.prototype.setColumnPosition=function(e){this.column=e},e.prototype.getCurrentLine=function(){return this.line},e.prototype.getCurrentColumn=function(){return this.column},e}();t.Cursor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(){this.lines=[""]}}();t.EditorState=o}]);
//# sourceMappingURL=bundle.js.map